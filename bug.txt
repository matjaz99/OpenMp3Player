=============================================================================================

reload page shows special characters ok, while refresh does not

=============================================================================================



=============================================================================================

NPE if mp3 file does not exist

=============================================================================================

Če greš v playlisto ki ima manj pesmi kot prvotna playlista - če je index naslednje večji 
kot število pesmi v listi, potem exception

2014.02.07 06:25:28:177 - INFO play: playlist: Queue, MP3: [918] /Users/matjaz/Music/Salsa/Ray Barretto - Vive Y Vacila.mp3
playbackStarted()
2014.02.07 06:25:35:817 - INFO PlayerServlet:doPost(): button pressed: next
2014.02.07 06:25:35:817 - INFO stop: playlist: Queue, MP3: [918] /Users/matjaz/Music/Salsa/Ray Barretto - Vive Y Vacila.mp3
playbackEnded()
Feb 7, 2014 6:25:36 PM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [Player] in context with path [/OpenMp3Player] threw exception
java.lang.IndexOutOfBoundsException: Index: 919, Size: 5
	at java.util.ArrayList.RangeCheck(ArrayList.java:547)
	at java.util.ArrayList.get(ArrayList.java:322)
	at si.matjazcerkvenik.openmp3player.backend.Mng.play(Mng.java:111)
	at si.matjazcerkvenik.openmp3player.backend.Mng.next(Mng.java:150)
	at si.matjazcerkvenik.openmp3player.servlets.PlayerServlet.doPost(PlayerServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:928)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:539)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:680)

=============================================================================================

2014.02.05 03:37:14:031 - INFO PlistMng:loadMp3Files(): loading from playlist: z
zzz.xml
javax.xml.bind.UnmarshalException
 - with linked exception:
[java.io.FileNotFoundException: c:\apache-tomcat-6.0.37\webapps\OpenMp3Player\pl
aylists\zzzz.xml (The system cannot find the file specified)]
        at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.un
marshal0(UnmarshallerImpl.java:203)
        at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.un
marshal(UnmarshallerImpl.java:173)
        at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnm
arshallerImpl.java:137)
        at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnm
arshallerImpl.java:142)
        at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnm
arshallerImpl.java:151)
        at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnm
arshallerImpl.java:169)
        at si.matjazcerkvenik.openmp3player.backend.XmlPlaylistFileFinder.unmars
hall(XmlPlaylistFileFinder.java:64)
        at si.matjazcerkvenik.openmp3player.backend.XmlPlaylistFileFinder.getMp3
Files(XmlPlaylistFileFinder.java:18)
        at si.matjazcerkvenik.openmp3player.backend.PlistMng.loadMp3Files(PlistM
ng.java:210)
        at si.matjazcerkvenik.openmp3player.servlets.PlayerServlet.doPost(Player
Servlet.java:84)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:643)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:723)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl
icationFilterChain.java:290)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF
ilterChain.java:206)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV
alve.java:233)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV
alve.java:191)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j
ava:127)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j
ava:103)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal
ve.java:109)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav
a:293)
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java
:861)
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.proce
ss(Http11Protocol.java:606)
        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:48
9)
        at java.lang.Thread.run(Thread.java:662)
Caused by: java.io.FileNotFoundException: c:\apache-tomcat-6.0.37\webapps\OpenMp
3Player\playlists\zzzz.xml (The system cannot find the file specified)
        at java.io.FileInputStream.open(Native Method)
        at java.io.FileInputStream.<init>(FileInputStream.java:120)
        at java.io.FileInputStream.<init>(FileInputStream.java:79)
        at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection
.java:70)
        at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLCon
nection.java:161)
        at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrent
Entity(XMLEntityManager.java:652)
        at com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineD
ocVersion(XMLVersionDetector.java:186)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(X
ML11Configuration.java:772)
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(X
ML11Configuration.java:737)
        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.
java:119)
        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Ab
stractSAXParser.java:1205)
        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.p
arse(SAXParserImpl.java:522)
        at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.un
marshal0(UnmarshallerImpl.java:200)
        ... 23 more
2014.02.05 03:37:18:947 - INFO PlayerServlet:Button pressed: dropdownmenu
SELECT_DIR: La Maxima 79
2014.02.05 03:37:18:948 - INFO PlistMng:setShowPlaylist(): La Maxima 79
2014.02.05 03:37:18:951 - INFO PlistMng:loadMp3Files(): loading from directory:
D:\Personal\salsa
2014.02.05 03:37:18:954 - INFO PlistMng:loadMp3Files(): found 12 mp3 files in pl
aylist La Maxima 79
2014.02.05 03:37:18:965 - INFO PlayerServlet:Button pressed: null
2014.02.05 03:37:21:195 - INFO PlayerServlet:Button pressed: refresh
2014.02.05 03:37:23:090 - INFO PlayerServlet:Button pressed: stop
2014.02.05 03:37:23:091 - INFO PlistMng:resetActivePlaylist(): active: La Maxima
 79
2014.02.05 03:37:23:092 - INFO stop: playlist: La Maxima 79, MP3: [0] D:\Persona
l\salsa\LA MAXIMA 79 - DESCARGA CHANGO.mp3
playbackEnded()

=============================================================================================

if different playlist is selected and press refresh on another device, the playlist is not 
refreshed

=============================================================================================

SEVERE: The web application [/MyMp3PlayerTomcat] appears to have started a threa
d named [Java Sound Event Dispatcher] but has failed to stop it. This is very li
kely to create a memory leak.
Exception in thread "Thread-11" java.lang.NullPointerException
        at si.matjazcerkvenik.mp3player.backend.Watchdog.run(Watchdog.java:24)

=============================================================================================

